$(function () {
    $("#loader").removeClass("loader");

    $(".menu-item.menu-link").on("click", function () {
        console.log($(this).attr("href"));
        $("#loader").addClass("loader");
    })

    function scrollToCurrentMenuElement() {
        if (!$('#kt_aside_menu').length) {
            return;
        }

        var path = location.pathname;
        var menuItem = $("a[href='" + path + "']");
        if (menuItem && menuItem.length) {
            menuItem[0].scrollIntoView({ block: 'center' });
        }
    }

    scrollToCurrentMenuElement();

    var dataTheme = localStorage.getItem("data-theme-app");
    if (dataTheme != null) {
        if (dataTheme == "dark") {
            $("html").attr("data-theme", "dark");
            $(".card.greyish").css("background-color", "#282828");

            $(".theme-light-show").addClass("d-none");
            $(".theme-light-show").removeClass("d-block");
            $(".theme-dark-show").removeClass("d-none");
            $(".theme-dark-show").addClass("d-block");
        }
    }

    $(".change-dark-mode-button").on("click", function () {
        var isDarkModeActive = $(this).attr("data-isdarkmodeactive");
        if (isDarkModeActive == "true") {
            localStorage.setItem("data-theme-app", "dark");
            $("html").attr("data-theme", "dark");
            $(".card.greyish").css("background-color", "#282828");
            $(".theme-light-show").addClass("d-none");
            $(".theme-light-show").removeClass("d-block");
            $(".theme-dark-show").removeClass("d-none");
            $(".theme-dark-show").addClass("d-block");
        }
        else {
            $("html").attr("data-theme", "light");
            $(".card.greyish").css("background-color", "#ffffff");
            localStorage.setItem("data-theme-app", "light");
            $(".theme-light-show").removeClass("d-none");
            $(".theme-light-show").addClass("d-block");
            $(".theme-dark-show").addClass("d-none");
            $(".theme-dark-show").removeClass("d-block");
        }
    })
});
